<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="baidu-site-verification" content="L6Lm9d5Crl"/>
  
  
  
  
  <title>小新的博客.一个文艺青年的前端小站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="分享web开发，为全栈开发努力，自我提高技术。">
<meta property="og:type" content="website">
<meta property="og:title" content="小新的博客.一个文艺青年的前端小站">
<meta property="og:url" content="http://zhangxiuxin.top/page/8/index.html">
<meta property="og:site_name" content="小新的博客.一个文艺青年的前端小站">
<meta property="og:description" content="分享web开发，为全栈开发努力，自我提高技术。">
<meta property="og:locale" content="Zhang-Xiu-xin">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="小新的博客.一个文艺青年的前端小站">
<meta name="twitter:description" content="分享web开发，为全栈开发努力，自我提高技术。">
  
    <link rel="alternative" href="/atom.xml" title="小新的博客.一个文艺青年的前端小站" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
  <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    
    
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          fancybox: true,
          animate: true,
          isHome: true,
          isPost: false,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: false
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

        <a href="/" class="profilepic">
            
            <img lazy-src="/img/avatar.png" class="js-avatar">
            
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Mr.张</a></h1>
        </hgroup>
        
        <p class="header-subtitle">愿我的只言片语，为你的成长带来帮助！</p>
        
        
            <form>
                <input type="text" class="st-default-search-input search" id="local-search-input" placeholder="搜索一下" autocomplete="off">
            </form>
            <div id="local-search-result"></div>
        
        
            <script type="text/javascript">
                (function() {
                    'use strict';
                    function getMatchData(keyword, data) {
                        var matchData = [];
                        for(var i =0;i<data.length;i++){
                            if(data[i].title.toLowerCase().indexOf(keyword)>=0) 
                                matchData.push(data[i])
                        }
                        return matchData;
                    }
                    var $input = $('#local-search-input');
                    var $resultContent = $('#local-search-result');
                    $input.keyup(function(){
                        $.ajax({
                            url: '/search.json',
                            dataType: "json",
                            success: function( json ) {
                                var str='<ul class=\"search-result-list\">';                
                                var keyword = $input.val().trim().toLowerCase();
                                $resultContent.innerHTML = "";
                                if ($input.val().trim().length <= 0) {
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                }
                                var results = getMatchData(keyword, json);
                                if(results.length === 0){
                                    $resultContent.empty();
                                    $('#switch-area').show();
                                    return;
                                } 
                                for(var i =0; i<results.length; i++){
                                    str += "<li><a href='"+ results[i].url +"' class='search-result-title'>"+ results[i].title +"</a></li>";
                                }
                                str += "</ul>";
                                $resultContent.empty();
                                $resultContent.append(str);
                                $('#switch-area').hide();
                            }
                        });
                    });
                })();
            </script>
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        
        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a  href="/archives/">所有文章</a></li>
                        
                            <li><a  href="/article/HTML">文章目录</a></li>
                        
                            <li><a  href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl github"  target="_blank" href="https://github.com/zhangxx1990" title="github">github</a>
                            
                                <a class="fl weibo"  target="_blank" href="https://weibo.com/u/2270567121?refer_flag=1001030101_&is_all=1" title="weibo">weibo</a>
                            
                                <a class="fl rss"  target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/Ajax/" style="font-size: 16.25px;">Ajax</a> <a href="/tags/CSS/" style="font-size: 15px;">CSS</a> <a href="/tags/HTML/" style="font-size: 11.25px;">HTML</a> <a href="/tags/JS/" style="font-size: 20px;">JS</a> <a href="/tags/MySQL/" style="font-size: 13.75px;">MySQL</a> <a href="/tags/MySQL-PHP/" style="font-size: 12.5px;">MySQL PHP</a> <a href="/tags/PHP/" style="font-size: 18.75px;">PHP</a> <a href="/tags/jQuery/" style="font-size: 17.5px;">jQuery</a> <a href="/tags/regexp/" style="font-size: 10px;">regexp</a>
                    </div>
                </section>
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://blog.csdn.net/baidu_21483933">csdn</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="https://segmentfault.com/blog/maocg_web">segmentfault</a>
                    
                      <a target="_blank"  class="main-nav-link switch-friends-link" href="http://www.jianshu.com/users/eb37ef89c746/latest_articles">简书</a>
                    
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">爱编程，爱运动，爱动漫，爱游戏！</div>
                </section>
                
            </div>
        </div>
    </header>
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Mr.张</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/avatar.png" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Mr.张</a></h1>
            </hgroup>
            
            <p class="header-subtitle">愿我的只言片语，为你的成长带来帮助！</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/article/HTML">文章目录</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="github" target="_blank" href="https://github.com/zhangxx1990" title="github">github</a>
                    
                        <a class="weibo" target="_blank" href="https://weibo.com/u/2270567121?refer_flag=1001030101_&is_all=1" title="weibo">weibo</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>
    </div>
</nav>
      <div class="body-wrap">
  
    <article id="post-JS/27-动画运动" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/04/09/JS/27-动画运动/" class="article-date">
      <time datetime="2017-04-09T01:00:54.000Z" itemprop="datePublished">2017-04-09</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/04/09/JS/27-动画运动/">27-动画运动</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="动画制作"><a href="#动画制作" class="headerlink" title="动画制作"></a>动画制作</h1><h2 id="匀速运动"><a href="#匀速运动" class="headerlink" title="匀速运动"></a>匀速运动</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"ie=edge"</span>&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;style lang=""&gt;</span></span><br><span class="line"><span class="regexp">        *&#123;</span></span><br><span class="line"><span class="regexp">            margin: 0px;</span></span><br><span class="line"><span class="regexp">            padding: 0px;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">        div &#123;</span></span><br><span class="line"><span class="regexp">            width: 200px;</span></span><br><span class="line"><span class="regexp">            height: 200px;</span></span><br><span class="line"><span class="regexp">            background-color: aqua;</span></span><br><span class="line"><span class="regexp">            position: absolute;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>style&gt;</span><br><span class="line"></span><br><span class="line">&lt;<span class="regexp">/head&gt;</span></span><br><span class="line"><span class="regexp">&lt;body&gt;</span></span><br><span class="line"><span class="regexp">    &lt;button id="btn"&gt;按钮&lt;/</span>button&gt; </span><br><span class="line">    &lt;div id=<span class="string">"box"</span>&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>);</span><br><span class="line">        <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span><br><span class="line">        <span class="keyword">var</span> timer = <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//元素的运动设置方式(匀速运动效果)</span></span><br><span class="line">        btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">                <span class="comment">//获取元素当前位置</span></span><br><span class="line">                <span class="keyword">var</span> current = box.offsetLeft;</span><br><span class="line">                <span class="comment">//设置步长</span></span><br><span class="line">                <span class="keyword">var</span> step = <span class="number">10</span>;</span><br><span class="line">                <span class="comment">//设置运动条件.如果不满足条件 结束运动</span></span><br><span class="line">                <span class="keyword">if</span>(current &lt; <span class="number">400</span>)&#123;</span><br><span class="line">                    <span class="comment">//套用运动公式：元素的位置(新) = 元素的位置(旧)+步长</span></span><br><span class="line">                    current = current + step;</span><br><span class="line">                    <span class="comment">//将新位置设置给left属性</span></span><br><span class="line">                    box.style.left = current + <span class="string">'px'</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="comment">//设置定时器的清除操作</span></span><br><span class="line">                    clearInterval(timer);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,<span class="number">20</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="变速运动"><a href="#变速运动" class="headerlink" title="变速运动"></a>变速运动</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">"en"</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">"UTF-8"</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">"viewport"</span> content=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span><br><span class="line">    &lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"ie=edge"</span>&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;<span class="regexp">/title&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">    &lt;style lang=""&gt;</span></span><br><span class="line"><span class="regexp">        div &#123;</span></span><br><span class="line"><span class="regexp">            margin: 0px;</span></span><br><span class="line"><span class="regexp">            padding: 0px;</span></span><br><span class="line"><span class="regexp">            width: 200px;</span></span><br><span class="line"><span class="regexp">            height: 200px;</span></span><br><span class="line"><span class="regexp">            background-color: aqua;</span></span><br><span class="line"><span class="regexp">            position: absolute;</span></span><br><span class="line"><span class="regexp">            top: 50px;</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>style&gt;</span><br><span class="line">&lt;<span class="regexp">/head&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;body&gt;</span></span><br><span class="line"><span class="regexp">    &lt;div id="box"&gt;&lt;/</span>div&gt;</span><br><span class="line">    &lt;button id=<span class="string">"btn"</span>&gt;按钮&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script&gt;</span></span><br><span class="line"><span class="regexp">        var box = document.getElementById('box');</span></span><br><span class="line"><span class="regexp">        var btn = document.getElementById('btn');</span></span><br><span class="line"><span class="regexp">        var timer = null;</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/元素的运动设置方式(变速运动效果)</span></span><br><span class="line"><span class="regexp">        btn.onclick = function()&#123;</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/清除旧的定时器，防止加问题</span></span><br><span class="line"><span class="regexp">            clearInterval(timer);</span></span><br><span class="line"><span class="regexp">            /</span><span class="regexp">/开始新的定时器</span></span><br><span class="line"><span class="regexp">            timer = setInterval(function()&#123;</span></span><br><span class="line"><span class="regexp">                /</span><span class="regexp">/获取元素当前位置</span></span><br><span class="line"><span class="regexp">                var current = box.offsetLeft;</span></span><br><span class="line"><span class="regexp">                /</span><span class="regexp">/设置运动步长：(目标位置 - 当前位置)/</span><span class="number">10</span></span><br><span class="line">                <span class="keyword">var</span> step = (<span class="number">800</span> - current) / <span class="number">10</span>;</span><br><span class="line">                <span class="comment">//可以对step进行取整</span></span><br><span class="line">                step = <span class="built_in">Math</span>.ceil(step);</span><br><span class="line">                <span class="comment">//套用公式：元素位置(新) = 元素的位置(旧) + 步长</span></span><br><span class="line">                current = current + step;</span><br><span class="line">                <span class="comment">//将新位置给left属性</span></span><br><span class="line">                box.style.left = current + <span class="string">'px'</span>;</span><br><span class="line">                <span class="comment">//清除定时器</span></span><br><span class="line">                <span class="keyword">if</span>(current === <span class="number">400</span>)&#123;</span><br><span class="line">                    clearInterval(timer);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,<span class="number">20</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;<span class="regexp">/script&gt;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">&lt;/</span>body&gt;</span><br><span class="line">&lt;<span class="regexp">/html&gt;</span></span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-JS/26-定时器" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/04/08/JS/26-定时器/" class="article-date">
      <time datetime="2017-04-08T03:13:44.000Z" itemprop="datePublished">2017-04-08</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/04/08/JS/26-定时器/">26-定时器</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="定时器"><a href="#定时器" class="headerlink" title="定时器"></a>定时器</h1><h2 id="延时定时器-timeout"><a href="#延时定时器-timeout" class="headerlink" title="延时定时器 timeout"></a>延时定时器 timeout</h2><blockquote>
<p>延时定时器可以让代码延迟一段时间之后才执行（定时炸弹）</p>
</blockquote>
<h3 id="设置延时定时器"><a href="#设置延时定时器" class="headerlink" title="设置延时定时器"></a>设置延时定时器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//语法：setTimeout(callback, time);</span></span><br><span class="line"><span class="comment">//参数1：回调函数，时间到了就会执行。</span></span><br><span class="line"><span class="comment">//参数2：延时的时间，毫秒形式</span></span><br><span class="line"><span class="comment">//返回：定时器的id，用于清除</span></span><br><span class="line"><span class="comment">//示例：</span></span><br><span class="line"><span class="keyword">var</span> timer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//1秒后将执行的代码。</span></span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<h3 id="清除延时定时器"><a href="#清除延时定时器" class="headerlink" title="清除延时定时器"></a>清除延时定时器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//语法：clearTimeout(timerId)</span></span><br><span class="line"><span class="comment">//参数：定时器id</span></span><br><span class="line"><span class="comment">//示例：</span></span><br><span class="line">clearTimeout(timer);<span class="comment">//清除上面定义的定时器</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;button id=<span class="string">"btn"</span>&gt;停止&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">    &lt;script&gt;</span></span><br><span class="line"><span class="regexp">        var btn = document.getElementById('btn');</span></span><br><span class="line"><span class="regexp">        /</span><span class="regexp">/ timeout定时器的设置方式：</span></span><br><span class="line"><span class="regexp">        var timer = null;</span></span><br><span class="line"><span class="regexp">        timer = setTimeout(function () &#123;</span></span><br><span class="line"><span class="regexp">            console.log('代码执行啦');</span></span><br><span class="line"><span class="regexp">        &#125;, 3000);</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">        btn.onclick = function () &#123;</span></span><br><span class="line"><span class="regexp">            clearTimeout(timer);</span></span><br><span class="line"><span class="regexp">        &#125;;</span></span><br><span class="line"><span class="regexp">    &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="间歇定时器-interval"><a href="#间歇定时器-interval" class="headerlink" title="间歇定时器 interval"></a>间歇定时器 interval</h2><blockquote>
<p>间歇定时器让定时器每隔一段时间就会执行一次，并且会一直执行，直到清除定时器为止.</p>
</blockquote>
<h3 id="设置间歇定时器"><a href="#设置间歇定时器" class="headerlink" title="设置间歇定时器"></a>设置间歇定时器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//语法：var intervalID = setInterval(func, delay);</span></span><br><span class="line"><span class="comment">//参数1：重复执行的函数</span></span><br><span class="line"><span class="comment">//参数2：每次间隔的毫秒数</span></span><br><span class="line"><span class="comment">//返回：定时器的id，用于清除</span></span><br><span class="line"><span class="comment">//示例：</span></span><br><span class="line"><span class="keyword">var</span> timer = setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//重复执行的代码。</span></span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>
<h3 id="清除间歇定时器"><a href="#清除间歇定时器" class="headerlink" title="清除间歇定时器"></a>清除间歇定时器</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//语法：clearInterval(intervalID)</span></span><br><span class="line"><span class="comment">//参数：定时器id</span></span><br><span class="line"><span class="comment">//示例：</span></span><br><span class="line">clearInterval(timer);<span class="comment">//清除上面定义的定时器</span></span><br></pre></td></tr></table></figure>
<pre><code class="javascript">&lt;body&gt;
    &lt;button id=<span class="string">"btn"</span>&gt;按钮&lt;<span class="regexp">/button&gt;</span>
<span class="regexp">    &lt;script&gt;</span>
<span class="regexp">        var btn = document.getElementById('btn');</span>
<span class="regexp"></span>
<span class="regexp">        var timer = null;</span>
<span class="regexp">        timer = setInterval(function () {</span>
<span class="regexp">            console.log('我执行啦');</span>
<span class="regexp">        }, 1000);</span>
<span class="regexp"></span>
<span class="regexp">        btn.onclick = function () {</span>
<span class="regexp">            clearInterval(timer);</span>
<span class="regexp"></span>
<span class="regexp">            /</span><span class="regexp">/ 特殊点：</span>
<span class="regexp">            /</span><span class="regexp">/  两种清除方式可以交换使用，没有必要，必须对应使用。</span>
<span class="regexp">            /</span><span class="regexp">/ clearTimeout(timer);</span>
<span class="regexp">        };</span>
<span class="regexp">    &lt;/</span>script&gt;
&lt;<span class="regexp">/body&gt;</span>
</code></pre>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-JS/25-异步任务" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/04/07/JS/25-异步任务/" class="article-date">
      <time datetime="2017-04-07T02:33:12.000Z" itemprop="datePublished">2017-04-07</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/04/07/JS/25-异步任务/">25-异步任务</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="异步任务"><a href="#异步任务" class="headerlink" title="异步任务"></a>异步任务</h1><ul>
<li><p>以前说js的代码是按顺序从上向下执行的，但并不是所有的代码均会遵循这个规则。</p>
<h2 id="同步任务（排队）："><a href="#同步任务（排队）：" class="headerlink" title="同步任务（排队）："></a>同步任务（排队）：</h2><p>以前我们任务的会从上向下执行的任务</p>
</li>
<li><p>异步任务：js中有的功能执行较为耗时，或执行时间不确定，这种情况将功能设置为异步任务(常见的异步任务：定时器,事件)</p>
</li>
<li><p>所有的异步任务执行均晚于同步任务，需要等待具体的执行时机(定时器事件到了，事件就被触发了)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">'这是页面中第一句代码'</span>);</span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'这是定时器内打印的内容2'</span>);</span><br><span class="line">        &#125;, <span class="number">2000</span>);</span><br><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'这是定时器内打印的内容1'</span>);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'这是定时器后打印的内容'</span>);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)&#123;</span><br><span class="line">    setTimeout (<span class="function"><span class="keyword">function</span> (<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(i);</span><br><span class="line">    &#125;,<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-JS/24-offset系列" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/04/07/JS/24-offset系列/" class="article-date">
      <time datetime="2017-04-07T00:24:15.000Z" itemprop="datePublished">2017-04-07</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/04/07/JS/24-offset系列/">24-offset系列</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="offset系列"><a href="#offset系列" class="headerlink" title="offset系列"></a>offset系列</h1><ul>
<li><p>三大系列都是DOM元素的一些属性;</p>
</li>
<li><p>scrollWidth/Heiht/Top/Left</p>
</li>
<li>offsetWidth/Heiht/Top/Left/Parent</li>
<li><p>clientWidth/Heiht/Top/Left/clientX/clientY</p>
<ul>
<li>width/height: 代指检测盒子的宽高;（padding+border+width/height,内容超出）</li>
<li>top/left: 调用者不同功能不同;</li>
</ul>
</li>
</ul>
<h2 id="offset系列：都是DOM对象的一些属性"><a href="#offset系列：都是DOM对象的一些属性" class="headerlink" title="offset系列：都是DOM对象的一些属性"></a>offset系列：都是DOM对象的一些属性</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//offset系列：都是DOM对象的一些属性;</span></span><br><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementsByTagName(<span class="string">"div"</span>)[<span class="number">0</span>];</span><br><span class="line"><span class="comment">//console.dir(div);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//offsetWidth/Height = width/height+padding+border;</span></span><br><span class="line"><span class="comment">//不会受到margin和内容影响</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(div.offsetWidth);<span class="comment">//数字类型;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> div.offsetHeight);<span class="comment">//数字类型;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>总结：<ul>
<li>如果一个盒子没有padding和border我们就可以用offsetWidth/Height<pre><code>//获取盒子非行内式的宽高;
</code></pre></li>
</ul>
</li>
</ul>
<h3 id="offsetTop-Left"><a href="#offsetTop-Left" class="headerlink" title="offsetTop/Left"></a>offsetTop/Left</h3><pre><code>- offsetTop/Left: 1.如果父系盒子有定位，那么就是距离最近的父系盒子带有定位的距离;
- offsetTop/Left: 2.如果父系盒子都没有定位，那么以浏览器为准(不是body);
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取元素</span></span><br><span class="line"><span class="keyword">var</span> box3 = <span class="built_in">document</span>.getElementsByClassName(<span class="string">"box3"</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//console.log(box3.offsetTop);//都没有定位130，以浏览器为基准;</span></span><br><span class="line"><span class="comment">//console.log(box3.offsetLeft);//都没有定位130，以浏览器为基准;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(box3.offsetTop);<span class="comment">//都没有定位130，以浏览器为基准;</span></span><br><span class="line"><span class="built_in">console</span>.log(box3.offsetLeft);<span class="comment">//都没有定位130，以浏览器为基准;</span></span><br></pre></td></tr></table></figure>
<ul>
<li>总结:<ul>
<li>1.获取盒子在父盒子中的位置;(自绝父相情况下获取top/left值)</li>
<li>2.获取盒子在整个页面的坐标;</li>
</ul>
</li>
</ul>
<h3 id="offsetParent"><a href="#offsetParent" class="headerlink" title="offsetParent"></a>offsetParent</h3><ul>
<li>offsetParent: 1.(有定位)获取距离最近的父系盒子中带有定位的盒子;</li>
<li><p>offsetParent: 2.(无定位)获取body;</p>
</li>
<li><p>总结：我们宁可使用<br>parentNode;（他找直接父节点）</p>
</li>
</ul>
<h2 id="style-left和offsetLeft的区别"><a href="#style-left和offsetLeft的区别" class="headerlink" title="style.left和offsetLeft的区别"></a>style.left和offsetLeft的区别</h2><ul>
<li><p>一、最大区别在于offsetLeft可以返回没有定位盒子的距离左侧的位置。而style.left不可以</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(box3.offsetLeft);<span class="comment">//130;数字</span></span><br><span class="line"><span class="built_in">console</span>.log(box3.style.left);<span class="comment">// ""</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>二、offsetleft 返回的是数字，而 style.left 返回的是字符串，除了数字外还带有单位：px。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(box3.offsetLeft);<span class="comment">//   111</span></span><br><span class="line"><span class="built_in">console</span>.log(box3.style.left);<span class="comment">//   "111px"</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>三、offsetleft 只读，而 style.left 可读写。（只读是获取值，可写是赋值）</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">box3.offsetLeft = <span class="string">"222px"</span>;<span class="comment">//只读</span></span><br><span class="line">box3.style.left = <span class="string">"222px"</span>;<span class="comment">//可写</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>四、如果没有给 HTML 元素指定过 left 样式，则style.left 返回的是空字符串。</p>
</li>
</ul>
<ul>
<li>总结;<ul>
<li>1.获取值offset;(没有定位都可以获取，获取的是数字)</li>
</ul>
</li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-JS/23-location与navigator与history对象" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/04/06/JS/23-location与navigator与history对象/" class="article-date">
      <time datetime="2017-04-06T01:34:26.000Z" itemprop="datePublished">2017-04-06</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/04/06/JS/23-location与navigator与history对象/">23-location与navigator与history对象</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="location对象"><a href="#location对象" class="headerlink" title="location对象"></a>location对象</h1><blockquote>
<p>location对象也是window的一个属性，本身也是一个对象</p>
<p>location其实对应的就是浏览器中的地址栏。</p>
</blockquote>
<h2 id="常用属性和方法"><a href="#常用属性和方法" class="headerlink" title="常用属性和方法"></a>常用属性和方法</h2><h3 id="location-href-控制地址栏中的地址"><a href="#location-href-控制地址栏中的地址" class="headerlink" title="location.href:控制地址栏中的地址"></a>location.href:控制地址栏中的地址</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.href = <span class="string">'http://www.baidu.com'</span>;<span class="comment">//让页面跳转到百度首页</span></span><br></pre></td></tr></table></figure>
<h3 id="location-assign-跳转"><a href="#location-assign-跳转" class="headerlink" title="location.assign:跳转"></a>location.assign:跳转</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.assign(<span class="string">'index.html'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="location-replace-跳转，替换当前页面"><a href="#location-replace-跳转，替换当前页面" class="headerlink" title="location replace() 跳转，替换当前页面"></a>location replace() 跳转，替换当前页面</h3><blockquote>
<p>assign:跳转</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">location.replace(<span class="string">'index.html'</span>);</span><br></pre></td></tr></table></figure>
<h3 id="location-reload-：让页面重新加载"><a href="#location-reload-：让页面重新加载" class="headerlink" title="location.reload()：让页面重新加载"></a>location.reload()：让页面重新加载</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">location.reload(<span class="literal">true</span>);<span class="comment">//true表示强制刷新，相当于ctrl+F5，</span></span><br><span class="line">location.reload(<span class="literal">false</span>);<span class="comment">//false表示普通刷新，相当于F5</span></span><br></pre></td></tr></table></figure>
<h3 id="location的其他属性"><a href="#location的其他属性" class="headerlink" title="location的其他属性"></a>location的其他属性</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.location.hash);<span class="comment">//哈希值 其实就是锚点</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.location.host);<span class="comment">//服务器 服务器名+端口号</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.location.hostname);<span class="comment">//服务器名</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.location.pathname);<span class="comment">//路径名</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.location.port);<span class="comment">//端口</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.location.protocol);<span class="comment">//协议</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">window</span>.location.search);<span class="comment">//参数</span></span><br></pre></td></tr></table></figure>
<h2 id="navigator对象"><a href="#navigator对象" class="headerlink" title="navigator对象"></a>navigator对象</h2><blockquote>
<p>window.navigator的一些属性可以获取客户端的一些信息</p>
</blockquote>
<p>navigator对象也是window的属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">navigator.userAgent;   <span class="comment">// 用户代理字符串：浏览器版本</span></span><br><span class="line"></span><br><span class="line">        <span class="built_in">console</span>.log(navigator.platform);</span><br><span class="line">        <span class="built_in">console</span>.log(navigator.userAgent); <span class="comment">// 用户代理字符串</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>history 对象<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//后退：</span></span><br><span class="line">   history.back();</span><br><span class="line">   history.go(<span class="number">-1</span>);</span><br><span class="line">   <span class="comment">//前进：</span></span><br><span class="line">   history.forward();</span><br><span class="line">   history.go(<span class="number">1</span>);</span><br></pre></td></tr></table></figure></p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-JS/22-BOM.window对象" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/04/02/JS/22-BOM.window对象/" class="article-date">
      <time datetime="2017-04-02T03:22:59.000Z" itemprop="datePublished">2017-04-02</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/04/02/JS/22-BOM.window对象/">22-BOM</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h1><blockquote>
<p>BOM（Browser Object Model）：浏览器对象模型，提供了一套操作浏览器功能的工具。</p>
</blockquote>
<p>BOM包含的内容很多，但是很多东西都不太常用，在BOM中需要大家掌握的就一个东西，那就是定时器 。</p>
<h2 id="window对象"><a href="#window对象" class="headerlink" title="window对象"></a>window对象</h2><ul>
<li>window对象的基本介绍<ul>
<li>window对象是js在浏览器环境中的顶级对象</li>
<li>window对象中的功能有很多，根据功能划分为多个对象，而这些对象也是window的属性</li>
</ul>
</li>
</ul>
<ol>
<li><p>window对象是一个全局对象，也可以说是JavaScript在浏览器环境中的顶级对象</p>
</li>
<li><p>像document、alert()、console这些都是window的属性，其实BOM中基本所有的属性和方法都是属性window的。</p>
</li>
<li><p>所有定义在全局作用域中的变量、函数、都是window对象的属性和方法</p>
</li>
<li><p>window对象下的属性和方法调用的时候可以省略window</p>
</li>
</ol>
<h2 id="window-onload"><a href="#window-onload" class="headerlink" title="window.onload"></a>window.onload</h2><blockquote>
<p>window.onload事件会在窗体加载完成后执行，通常我们称之为入口函数。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//里面的代码会在页面加载完成后执行。</span></span><br><span class="line">    <span class="comment">//页面加载完成包括结构的加载、还有图片、文件的加载完成。</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<p>如果有图片加载，那么代码一定要写到window.onload里面，否则会出现图片没有加载完成，获取到的宽度和高度不对的情况。</p>
<p>浏览器会对页面的加载做优化，在加载图片的时候，图片的引入会延迟。</p>
<h2 id="window-open与window-close"><a href="#window-open与window-close" class="headerlink" title="window.open与window.close"></a>window.open与window.close</h2><blockquote>
<p>window.open() 打开一个窗口</p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//语法：window.open(url, [name], [features]);</span></span><br><span class="line"><span class="comment">//参数1：需要载入的url地址</span></span><br><span class="line"><span class="comment">//参数2：新窗口的名称</span></span><br><span class="line">    <span class="comment">//_self:在当前窗口打开</span></span><br><span class="line">    <span class="comment">//_blank:在新的窗口打开</span></span><br><span class="line"><span class="comment">//参数3：窗口的属性，指定窗口的大小</span></span><br><span class="line"><span class="comment">//返回值：会返回刚刚创建的那个窗口，用于关闭</span></span><br><span class="line"><span class="comment">//示例：</span></span><br><span class="line"><span class="keyword">var</span> newWin = <span class="built_in">window</span>.open(<span class="string">"http://www.baidu.com"</span>,<span class="string">"_blank"</span>, <span class="string">"width=300,height=300"</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>window.close() 关闭窗口<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">newWin.close()；<span class="comment">//newWin是刚刚创建的那个窗口</span></span><br><span class="line"><span class="built_in">window</span>.close();<span class="comment">//把当前窗口给关闭了</span></span><br></pre></td></tr></table></figure></p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-JS/21-事件流" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/04/01/JS/21-事件流/" class="article-date">
      <time datetime="2017-04-01T02:05:02.000Z" itemprop="datePublished">2017-04-01</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/04/01/JS/21-事件流/">21-事件流</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="事件流"><a href="#事件流" class="headerlink" title="事件流"></a>事件流</h1><h2 id="事件冒泡"><a href="#事件冒泡" class="headerlink" title="事件冒泡"></a>事件冒泡</h2><p>当一个元素的事件被触发时，同样的 <strong>事件将会在该元素的所有祖先元素中依次被触发</strong>。这一过程被称为 <strong>事件冒泡</strong>。</p>
<h3 id="传递的顺序为由内向外。"><a href="#传递的顺序为由内向外。" class="headerlink" title="传递的顺序为由内向外。"></a>传递的顺序为由内向外。</h3><ul>
<li>1.事件冒泡是默认的事件传递方式  </li>
<li>2.执行顺序</li>
</ul>
<ul>
<li>说白了就是：当我们触发了子元素的某个事件后，父元素对应的事件也会触发。</li>
</ul>
<p>通常情况，<strong>事件冒泡</strong>对于我们来说是没有问题的，我们直接不管就行了，但是如果当事件冒泡给我们带来影响的时候，我们需要阻止事件冒泡。</p>
<h3 id="阻止事件冒泡"><a href="#阻止事件冒泡" class="headerlink" title="阻止事件冒泡"></a>阻止事件冒泡</h3><ul>
<li><p><strong>阻止事件冒泡</strong>有浏览器兼容性问题</p>
</li>
<li><p>正常浏览器</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    link.onclick = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    	event = event || <span class="built_in">window</span>.event;</span><br><span class="line">    	<span class="comment">//stop :停止  propagation：传播</span></span><br><span class="line">    	event.stopPropagation();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="阻止事件传播"><a href="#阻止事件传播" class="headerlink" title="阻止事件传播"></a>阻止事件传播</h3><blockquote>
<p><strong>stopPropagation()</strong></p>
</blockquote>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">box.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              <span class="built_in">console</span>.log(<span class="string">'box'</span>);</span><br><span class="line">          &#125;;</span><br><span class="line">          text.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">              e.stopPropagation();</span><br><span class="line">              <span class="built_in">console</span>.log(<span class="string">'text'</span>);</span><br><span class="line">          &#125;;</span><br><span class="line">      &#125;;</span><br></pre></td></tr></table></figure>
<h2 id="取消标签的默认事件效果"><a href="#取消标签的默认事件效果" class="headerlink" title="取消标签的默认事件效果"></a>取消标签的默认事件效果</h2><h3 id="方式有两种"><a href="#方式有两种" class="headerlink" title="方式有两种:"></a>方式有两种:</h3><ul>
<li>return false;</li>
<li>e.preventDefault()</li>
</ul>
<p>推荐使用return false;</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> link = <span class="built_in">document</span>.getElementById(<span class="string">'link'</span>);</span><br><span class="line">link.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'这是a标签的事件'</span>);</span><br><span class="line">    <span class="comment">//取消标签的默认事件效果方式有两种，推荐使用return false;</span></span><br><span class="line">    <span class="comment">//return false;</span></span><br><span class="line">    e.preventDefault()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="事件捕获"><a href="#事件捕获" class="headerlink" title="事件捕获"></a>事件捕获</h2><p><strong>事件捕获</strong>是火狐浏览器提出来的，IE678不支持事件捕获（基本上，我们都是用事件冒泡）</p>
<p>事件的处理将从DOM层次的根开始，而不是从触发事件的目标元素开始，<strong>事件被从目标元素的所有祖先元素依次往下传递</strong> 。这种事件的传递方式称为事件捕获。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//当addEventListener第三个参数为true时，表示事件捕获</span></span><br><span class="line">arr[i].addEventListener(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">&#125;,<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>由于事件捕获不是默认的方式，需要采addEventListener进行设置</li>
<li>使用参数3 表示事件采用事件冒泡或事件捕获的形式执行</li>
<li>true 表示捕获，false表示事件冒泡，默认为false</li>
</ul>
<p><strong>事件捕获的执行顺序：</strong></p>
<ul>
<li>与事件冒泡相反,由内向外。</li>
</ul>
<h2 id="事件的三个阶段"><a href="#事件的三个阶段" class="headerlink" title="事件的三个阶段"></a>事件的三个阶段</h2><ul>
<li>js中进行事件执行监听的‘人’只有一个，这个人是js中的事件机制</li>
</ul>
<ul>
<li>任意的元素触发事件后都会经历3个阶段.依次为</li>
</ul>
<ul>
<li>我们设置的事件冒泡或事件捕获只是决定了某个事件在哪个阶段会被执行<ul>
<li>事件的捕获阶段   （人过来了）</li>
<li>事件的目标阶段   （触发自己的事件）<ul>
<li>当前目标阶段  (人在做事情)</li>
</ul>
</li>
<li>事件的冒泡阶段 (人走了)</li>
</ul>
</li>
</ul>
<p>事件有三个阶段，首先发生的是捕获阶段，然后是目标阶段，最后才是冒泡阶段，对于捕获和冒泡，我们只能干预其中的一个，通常来说，我们可能会干预事件冒泡阶段，而不去干预事件捕获阶段。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//true表示事件捕获， false表示事件冒泡，默认为false</span></span><br><span class="line">box1.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'box1'</span>);</span><br><span class="line">        &#125;,<span class="literal">true</span>);</span><br><span class="line">        </span><br><span class="line">        box2.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'box2'</span>);</span><br><span class="line">        &#125;,<span class="literal">true</span>);</span><br><span class="line">        </span><br><span class="line">        box3.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'box3'</span>);</span><br><span class="line">        &#125;,<span class="literal">true</span>);</span><br></pre></td></tr></table></figure>
<h2 id="事件委托"><a href="#事件委托" class="headerlink" title="事件委托"></a>事件委托</h2><p>​<strong>概念：</strong> 将内部元素的事件设置给父级元素(将内部元素的事件委托给父级元素设置)</p>
<ul>
<li><strong>作用：</strong><ul>
<li>1.可以减少事件的设置个数，对内部元素的事件进行统一管理</li>
<li>2.可以解决动态创建的元素没有事件的问题</li>
</ul>
</li>
</ul>
<h2 id="常见的事件"><a href="#常见的事件" class="headerlink" title="常见的事件"></a>常见的事件</h2><ul>
<li><p>常见的鼠标事件</p>
<pre><code>onmousedown: 鼠标按下事件

onmouseup:   鼠标弹起事件

onclick:     单击事件

ondblclick： 双击事件

onmouseover：鼠标经过事件

onmouseout： 鼠标离开事件

onmousemove：鼠标移动事件

onfocus：    鼠标获得焦点事件

onblur：     鼠标失去焦点事件
</code></pre></li>
<li><p>常见的键盘事件</p>
<pre><code>onkeydown:   键盘按下时触发

onkeyup:     键盘弹起时触发
</code></pre></li>
</ul>
<p>对于鼠标事件，事件对象中有一系列的XY记录了鼠标的位置信息。而键盘事件中，事件对象有一个event.keyCode属性，记录了按下去的键的键盘码。</p>
<h1 id="事件对象"><a href="#事件对象" class="headerlink" title="事件对象"></a>事件对象</h1><h2 id="事件对象的概述"><a href="#事件对象的概述" class="headerlink" title="事件对象的概述"></a>事件对象的概述</h2><blockquote>
<p>在触发某个事件的时候，都会产生一个事件对象Event，这个对象中包含所有与事件相关的一些信息，包括触发事件的元素，事件的类型以及其他与事件相关的信息。</p>
</blockquote>
<p>当我们进行事件触发后，某些特殊的信息是我们自己无法得到的（坐标等信息…）</p>
<p>js的事件会给我们提供这些信息，我们只需要利用某些方式得到后进行使用即可。</p>
<p>由于得到的数据是一组值，为对象结果，所以也称为<strong>事件对象。</strong></p>
<ul>
<li><p>鼠标事件触发时，事件对象中会包含鼠标的位置信息。</p>
</li>
<li><p>键盘事件触发时，事件对象中会包含按下的键相关的信息。</p>
<p>​</p>
</li>
</ul>
<blockquote>
<pre><code>每一个事件在触发时，都会产生一个事件对象。

你见或者不见，我就在那里，不悲不喜。

你爱或者不爱，爱就在那里，不增不减。

你用或者不用，我都会给你，不离不弃。 
</code></pre></blockquote>
<ul>
<li>接收的方式：<ul>
<li>1.在事件处理程序的形参位置接收一个参数，这种方式ie9以下不支持</li>
<li>2.在ie以下可以使用一个window.event对象进行操作</li>
</ul>
</li>
</ul>
<h2 id="获取事件对象"><a href="#获取事件对象" class="headerlink" title="获取事件对象"></a>获取事件对象</h2><blockquote>
<p>既然事件对象中存储了这么多的信息，我们首先需要做的就是获取到这个事件对象。获取事件对象的时候，存在浏览器的兼容问题。</p>
</blockquote>
<p>对于现代浏览器，获取事件对象非常的简单，只需要在注册事件的时候，指定一个形参即可。这个形参就是我们想要获取到的事件对象。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//event就是事件对象，里面包含了事件触发时的一些信息。</span></span><br><span class="line">    <span class="built_in">console</span>.log(event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>对于IE678来说，获取事件对象则是另一种方式，在事件里面，通过window.event来获取事件对象</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//IE678通过window.event获取事件对象</span></span><br><span class="line">    <span class="keyword">var</span> event = <span class="built_in">window</span>.event;</span><br><span class="line">    <span class="built_in">console</span>.log(event);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>兼容性封装<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    btn.onclick = <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">    <span class="comment">//只要用到了事件对象，就要记得处理浏览器兼容性</span></span><br><span class="line">    event = event || <span class="built_in">window</span>.event;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="事件对象的常用属性"><a href="#事件对象的常用属性" class="headerlink" title="事件对象的常用属性"></a>事件对象的常用属性</h2><p>事件对象中有很多很多的属性，但是很多属性并不常用。我们经常用到的是<strong>鼠标位置信息</strong>和<strong>键盘码</strong>相关的信息。</p>
<ul>
<li>记录了鼠标位置信息的相关属性<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">clientX与clientY：光标相对于可视区左上角的水平位置和垂直位置。</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">        <span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span><br><span class="line">        <span class="comment">//在页面任意位置点击鼠标时，获取鼠标坐标，将元素box移动到点击位置</span></span><br><span class="line">        <span class="comment">//mousemove   鼠标移动时触发事件</span></span><br><span class="line">        <span class="built_in">document</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params">e</span>)</span>&#123;</span><br><span class="line">            <span class="comment">//clientX   针对页面可视区域的横坐标</span></span><br><span class="line">            <span class="comment">//clientY   针对页面可视区域的纵坐标</span></span><br><span class="line">            <span class="built_in">console</span>.log(e.clientX,e.clientY);</span><br><span class="line">            box.style.left = e.clientX + <span class="string">'px'</span>;</span><br><span class="line">            box.style.top = e.clientY + <span class="string">'px'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li>记录了键盘码的属性</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">event.keyCode:键盘按下的那个键的键盘码</span><br></pre></td></tr></table></figure>
<h2 id="放大镜效果（练习）"><a href="#放大镜效果（练习）" class="headerlink" title="放大镜效果（练习）"></a>放大镜效果（练习）</h2><p>放大镜在开发中是一个很常见的特效，但是所有的放大镜的实现效果都是一样</p>
<p>mousemove事件：鼠标移动时会触发这个事件。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.onmousemove = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"鼠标移动事件在触发"</span>);  </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>获取鼠标在盒子中的位置：<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> spaceX = getPage(event).x - box.offsetLeft;</span><br><span class="line"><span class="keyword">var</span> spaceY = getPage(event).y - box.offsetTop;</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-JS/20-注册事件" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/04/01/JS/20-注册事件/" class="article-date">
      <time datetime="2017-04-01T01:06:12.000Z" itemprop="datePublished">2017-04-01</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/04/01/JS/20-注册事件/">20-注册事件</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="注册事件的两种方式"><a href="#注册事件的两种方式" class="headerlink" title="注册事件的两种方式"></a>注册事件的两种方式</h1><h2 id="on-事件名称"><a href="#on-事件名称" class="headerlink" title="on+事件名称"></a>on+事件名称</h2><p>  onclick、onmouseover这种on+事件名称的方式注册事件几乎所有的浏览器都支持。</p>
<ul>
<li>注册事件：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">box.onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="comment">//事件处理程序	</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>移除事件：</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">box.onclick = <span class="literal">null</span>;</span><br></pre></td></tr></table></figure>
<p>on+事件名称注册事件的缺点：</p>
<p>同一个元素同一类型的事件，只能注册一个，如果注册了多个，会出现覆盖问题。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;body&gt;</span><br><span class="line">      &lt;button id=<span class="string">"btn"</span>&gt;按钮&lt;<span class="regexp">/button&gt;</span></span><br><span class="line"><span class="regexp">      &lt;script&gt;</span></span><br><span class="line"><span class="regexp">          var btn = document.getElementById('btn');</span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/使用普通方式设置的事件会出现覆盖的问题</span></span><br><span class="line"><span class="regexp">          btn.onclick = function()&#123;</span></span><br><span class="line"><span class="regexp">              console.log('这是第一个事件代码');</span></span><br><span class="line"><span class="regexp">          &#125;;/</span><span class="regexp">/这段就会被第二个覆盖掉</span></span><br><span class="line"><span class="regexp">          btn.onclick = function()&#123;</span></span><br><span class="line"><span class="regexp">              console.log('这是第二个事件代码');</span></span><br><span class="line"><span class="regexp">          &#125;;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">/</span><span class="regexp">/普通事件的移除方式；</span></span><br><span class="line"><span class="regexp">        btn.onclick = function()&#123;</span></span><br><span class="line"><span class="regexp">            console.log('这是第一个事件代码');</span></span><br><span class="line"><span class="regexp">        &#125;</span></span><br><span class="line"><span class="regexp">        btn.onclick = null;</span></span><br><span class="line"><span class="regexp"></span></span><br><span class="line"><span class="regexp">      &lt;/</span>script&gt;</span><br><span class="line">&lt;<span class="regexp">/body&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="注册事件的新方式"><a href="#注册事件的新方式" class="headerlink" title="注册事件的新方式"></a>注册事件的新方式</h2><ul>
<li><p><strong>addEventListener与-removeEventListener</strong></p>
<pre><code>现代浏览器支持的注册事件的新方式，这种方式注册的事件不会出现覆盖问题。
</code></pre></li>
<li><p>addEventListener的语法</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">	设置方式：</span><br><span class="line">元素.addEventListener() 添加事件监听</span><br><span class="line">参数：</span><br><span class="line">	<span class="number">1.</span>事件类型名称，字符串形式  不加on</span><br><span class="line">	<span class="number">2.</span>事件处理程序，函数</span><br><span class="line">特点：多次进行设置操作，不会出现覆盖的问题</span><br><span class="line"></span><br><span class="line">        btn.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'这是点击事件1'</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">var</span>  fun = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="string">'这是点击事件2'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        btn.addEventListener(<span class="string">'click'</span>,fun);</span><br></pre></td></tr></table></figure>
<p>注意：如果想要让你注册的事件能够移除，不能使用匿名函数。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">移除事件操作：</span><br><span class="line">元素.removeEventListener();</span><br><span class="line">移除时必须与设置时的参数完全一样(事件处理程序必须设置为命名形式)</span><br><span class="line">        btn.removeEventListener(<span class="string">'click'</span>,fun);</span><br><span class="line">        <span class="comment">//如果想让注册的事件能移除，不能用匿名函数。</span></span><br><span class="line">        box.addEventListener(<span class="string">"click"</span>, fn1, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<ul>
<li>removeEventListen的语法</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//第一个参数：事件类型</span></span><br><span class="line"><span class="comment">//第二个参数：事件处理程序</span></span><br><span class="line"><span class="comment">//第三个参数：false</span></span><br><span class="line">removeEventListener(type, fun, useCapture);</span><br></pre></td></tr></table></figure>
<h2 id="attachEvent与detachEvent"><a href="#attachEvent与detachEvent" class="headerlink" title="attachEvent与detachEvent"></a>attachEvent与detachEvent</h2><ul>
<li><p>IE678不支持addEventListener与removeEventListen两个方法，但是支持attachEvent与detachEvent  </p>
<ul>
<li><p>ie中提供了一组方法用于进行事件操作</p>
</li>
<li><p>下面这种方法虽然是ie提出的，但是ie的新版本11已经不支持了。</p>
</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">      <span class="keyword">var</span> btn = <span class="built_in">document</span>.getElementById(<span class="string">'btn'</span>);</span><br><span class="line">      <span class="comment">//addEventListentById组功能在ie9以下不支持</span></span><br><span class="line">      <span class="comment">//ie中提供了一组方法用于进行事件操作</span></span><br><span class="line">      <span class="comment">//下面这种方法虽然是ie提出的，但是ie的新版本11已经不支持了。（只有ie浏览器11  以下才生效）</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 这组方法仅仅作为了解即可。</span></span><br><span class="line"><span class="comment">// 1 添加事件</span></span><br><span class="line">btn.attachEvent(<span class="string">'onclick'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'这是第一个点击事件'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">	<span class="built_in">console</span>.log(<span class="string">'这是第二个点击事件'</span>);</span><br><span class="line">&#125;;</span><br><span class="line">btn.attachEvent(<span class="string">'onclick'</span>, fun);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 移除事件：必须保证参数完全相同</span></span><br><span class="line">btn.detachEvent(<span class="string">'onclick'</span>, fun);</span><br></pre></td></tr></table></figure>
<h3 id="attachEvent的用法："><a href="#attachEvent的用法：" class="headerlink" title="attachEvent的用法："></a>attachEvent的用法：</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//type:事件类型   需要加上on   onclick  onmouseenter</span></span><br><span class="line"><span class="comment">//fun:事件处理程序</span></span><br><span class="line">attachEvent(type, fun)</span><br></pre></td></tr></table></figure>
<h3 id="detachEvent的用法"><a href="#detachEvent的用法" class="headerlink" title="detachEvent的用法"></a>detachEvent的用法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//type:事件类型   需要加上on   onclick  onmouseenter</span></span><br><span class="line"><span class="comment">//fun:事件处理程序</span></span><br><span class="line">detachEvent(type, fun)</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-JS/19-节点" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/04/01/JS/19-节点/" class="article-date">
      <time datetime="2017-04-01T00:38:46.000Z" itemprop="datePublished">2017-04-01</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/04/01/JS/19-节点/">19-节点</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="节点"><a href="#节点" class="headerlink" title="节点"></a>节点</h1><h2 id="节点的概念"><a href="#节点的概念" class="headerlink" title="节点的概念"></a>节点的概念</h2><ul>
<li><p>页面创建后，DOM会根据HTML文档结构生成文档树（又称节点树），HTML文档中的每个标签、文本、属性均为 ‘树’ 中的一个部分，这些组成部分称为 <strong>节点</strong>。</p>
</li>
<li><p>节点根据形式不同，又有不同的分类，例如标签称为<strong>元素节点</strong>，文本称为<strong>文本节点</strong>，等等。</p>
</li>
<li><p>节点树的根据 ‘树’ 中不同节点之间的关系，给我们提供了一套访问方式，用于<strong>方便对页面内容的操作</strong>。</p>
</li>
</ul>
<h2 id="节点的属性"><a href="#节点的属性" class="headerlink" title="节点的属性"></a>节点的属性</h2><ul>
<li>节点分类：<ul>
<li>常见节点：元素节点、文本节点、属性节点   注释节点（不常用）</li>
</ul>
</li>
</ul>
<ul>
<li>节点常用的属性<ul>
<li>nodeType:  节点类型，数值形式</li>
<li>1 代表元素节点 （常用）</li>
<li>2 代表属性节点</li>
<li>3 代表文本节点</li>
</ul>
</li>
</ul>
<ul>
<li><p>nodeName: 节点名称</p>
<ul>
<li>元素节点的nodeName为标签名</li>
</ul>
</li>
<li><p>nodeValue: 节点值</p>
<ul>
<li>元素节点的nodeValue为null</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">节点的三个属性</span><br><span class="line"><span class="comment">// 标签：页面元素，元素节点</span></span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span><br><span class="line"><span class="comment">// 节点的属性：</span></span><br><span class="line"><span class="comment">// 1 nodeType，用于检测节点的类型</span></span><br><span class="line"><span class="built_in">console</span>.log(box.nodeType);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 nodeName，对于元素节点来说结果是大写的标签名称</span></span><br><span class="line"><span class="built_in">console</span>.log(box.nodeName); <span class="comment">// 'DIV'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3 nodeValue，对于元素节点来说，nodeValue为null</span></span><br><span class="line"><span class="built_in">console</span>.log(box.nodeValue);</span><br></pre></td></tr></table></figure>
<pre><code>​
</code></pre><h2 id="节点访问关系"><a href="#节点访问关系" class="headerlink" title="节点访问关系"></a>节点访问关系</h2><p>节点访问关系一共分两类：上下级关系(父子关系)和同级关系(兄弟关系)。</p>
<h3 id="父节点"><a href="#父节点" class="headerlink" title="父节点"></a>父节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node.parentNode <span class="comment">// 父节点</span></span><br></pre></td></tr></table></figure>
<h3 id="子节点"><a href="#子节点" class="headerlink" title="子节点"></a>子节点</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">childNodes         <span class="comment">// 获取所有的子节点，伪数组</span></span><br><span class="line">children           <span class="comment">// 获取所有的子元素，伪数组（最常用）</span></span><br><span class="line">firstChild         <span class="comment">// 第一个子节点</span></span><br><span class="line">firstElementChild  <span class="comment">// 第一个子元素节点 有兼容性问题</span></span><br><span class="line">lastChild          <span class="comment">// 最后一个子节点</span></span><br><span class="line">lastElementChild   <span class="comment">// 最后一个子元素节点 有兼容性问题</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">'box'</span>);</span><br><span class="line"><span class="comment">// 由于fa是box的父节点，可以使用parentNode属性访问</span></span><br><span class="line"><span class="comment">// console.log(box.parentNode);</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// childrenNodes 获取所有子节点 获取结果包含文本节点</span></span><br><span class="line"><span class="comment">// console.log(box.children);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// children  非常常用，必须掌握</span></span><br><span class="line"><span class="comment">// children  获取所有子元素节点</span></span><br><span class="line"><span class="built_in">console</span>.log(box.children);</span><br><span class="line"></span><br><span class="line"><span class="comment">// firstChild  第一个子节点</span></span><br><span class="line"><span class="comment">// console.log(box.firstChild);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// lastChild 最后一个子节点</span></span><br><span class="line"><span class="comment">// console.log(box.lastChild);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// firstElementChild  第一个元素子节点   ie9以下不支持</span></span><br><span class="line"><span class="comment">// console.log(box.firstElementChild);</span></span><br><span class="line"><span class="comment">// console.log(box.children[0]);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// lastElementChild  最后一个元素子节点  ie9以下不支持</span></span><br><span class="line"><span class="comment">// console.log(box.lastElementChild);</span></span><br><span class="line"><span class="built_in">console</span>.log(box.children[box.children.length - <span class="number">1</span>]);</span><br></pre></td></tr></table></figure>
<h3 id="同级节点（兄弟节点）"><a href="#同级节点（兄弟节点）" class="headerlink" title="同级节点（兄弟节点）"></a>同级节点（兄弟节点）</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//这四个属性均作为了解，因为他们都有一些问题。</span></span><br><span class="line">nextSibling <span class="comment">// 下一个同级节点</span></span><br><span class="line">nextElementSibling <span class="comment">// 下一个同级元素节点 有兼容性问题</span></span><br><span class="line">previousSibling <span class="comment">// 上一个同级节点</span></span><br><span class="line">previousElementSibling <span class="comment">// 上一个同级元素节点 有兼容性问题</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> li = <span class="built_in">document</span>.getElementById(<span class="string">'li'</span>);</span><br><span class="line"><span class="comment">// nextSibling 下一个兄弟节点 会获取到文本节点</span></span><br><span class="line"><span class="built_in">console</span>.log(li.nextSibling);</span><br><span class="line"></span><br><span class="line"><span class="comment">// nextElementSibling下一个兄弟元素 ie9 以下不支持</span></span><br><span class="line"><span class="built_in">console</span>.log(li.nextElementSibling);</span><br><span class="line"></span><br><span class="line"><span class="comment">// previousSibling上一个同级节点 会获取到文本节点</span></span><br><span class="line"><span class="built_in">console</span>.log(li.previousSibling);</span><br><span class="line"></span><br><span class="line"><span class="comment">// previousElementSibling上一个同级元素节点 ie9 以下不支持</span></span><br><span class="line"><span class="built_in">console</span>.log(li.previousElementSibling);</span><br><span class="line"></span><br><span class="line"><span class="comment">//上面四个属性如果无法获取到对应节点，则返回null</span></span><br></pre></td></tr></table></figure>
<h3 id="移动节点"><a href="#移动节点" class="headerlink" title="移动节点"></a>移动节点</h3><h4 id="appendChild-追加子节点"><a href="#appendChild-追加子节点" class="headerlink" title="appendChild 追加子节点"></a>appendChild 追加子节点</h4><pre><code>- 语法：parent.appendChild(newChild)
    - parent： 父节点（要添加到的位置）
    - newChild：新节点（要添加的节点）
- 作用：把newChild添加到parent中所有子节点的最后面。
    - 如果添加的是页面中本来就存在的元素，是一个剪切的效果，原来的就不在了。
</code></pre><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> demo = <span class="built_in">document</span>.getElementById(<span class="string">"demo"</span>);</span><br><span class="line"><span class="keyword">var</span> box = <span class="built_in">document</span>.getElementById(<span class="string">"box"</span>);</span><br><span class="line">box.appendChild(demo);</span><br></pre></td></tr></table></figure>
<h4 id="insertBefore-插入子节点"><a href="#insertBefore-插入子节点" class="headerlink" title="insertBefore 插入子节点"></a>insertBefore 插入子节点</h4><ul>
<li><p>语法：parent.insertBefore(newChild, refChild);</p>
</li>
<li><p>参数：</p>
<ul>
<li>parent：父节点（要添加到的位置）</li>
<li>newChild：新节点（要添加的节点）</li>
<li>refChild：参考节点（新节点添加到哪一个节点的前面）。</li>
</ul>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ul = <span class="built_in">document</span>.getElementById(<span class="string">"list"</span>);</span><br><span class="line"><span class="keyword">var</span> li = <span class="built_in">document</span>.createElement(<span class="string">"li"</span>);</span><br><span class="line">li.innerHTML = <span class="string">"这是一个li"</span>;</span><br><span class="line"><span class="comment">// 就是添加到子节点的最前面。</span></span><br><span class="line">ul.insertBefore(li, ul.children[<span class="number">0</span>]);</span><br></pre></td></tr></table></figure>
<h2 id="创建元素节点（3种方式）"><a href="#创建元素节点（3种方式）" class="headerlink" title="创建元素节点（3种方式）"></a>创建元素节点（3种方式）</h2><h3 id="document-write（基本不用）"><a href="#document-write（基本不用）" class="headerlink" title="document.write（基本不用）"></a>document.write（基本不用）</h3><pre><code>可以生成新的节点，但是不推荐使用。
</code></pre><p><strong>注意：如果在页面加载完毕后，使用document.write进行内容写入操作，会将之前的页面给覆盖掉</strong></p>
<h4 id="innerHTML"><a href="#innerHTML" class="headerlink" title="innerHTML"></a>innerHTML</h4><ul>
<li><p>innerHTML也可以创建节点。</p>
</li>
<li><p>使用innerHTML会出现的问题：</p>
<ul>
<li>覆盖原内容。</li>
<li>效率问题。</li>
</ul>
</li>
<li><p>console.time() 与 console.timeEnd() 的使用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.time();</span><br><span class="line">代码段...</span><br><span class="line"><span class="built_in">console</span>.timeEnd();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="document-createElement"><a href="#document-createElement" class="headerlink" title="document.createElement"></a>document.createElement</h4><ul>
<li>语法：document.createElement(tagName);<ul>
<li>功能：创建一个元素节点</li>
<li>返回：元素节点（标签）</li>
<li>参数：要创建的标签的名称，字符串类型</li>
</ul>
</li>
</ul>
<p><strong>注意：使用document.createElement创建的元素需要添加到页面中才会显示。</strong></p>
<h4 id="删除节点"><a href="#删除节点" class="headerlink" title="删除节点"></a>删除节点</h4><ul>
<li>语法：parent.removeChild(child);</li>
<li>功能：有父盒子调用，删除里面的一个子元素。</li>
<li>参数：child 要移除的子节点</li>
</ul>
<h4 id="克隆节点"><a href="#克隆节点" class="headerlink" title="克隆节点"></a>克隆节点</h4><ul>
<li>语法：node.cloneNode(deep)</li>
<li>功能：克隆一个节点</li>
<li>参数：deep</li>
</ul>
<ul>
<li>false：默认值，表示浅复制：只会复制节点本身，不会复制节点的内部内容。</li>
<li>true：深复制，会复制标签，以及标签内的所有内容 </li>
</ul>
<ol>
<li>克隆出来的节点跟原来的节点没有关系</li>
<li>不要给要克隆的节点设置id</li>
</ol>

      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
    <article id="post-JS/18-表单属性与事件" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a  href="/2017/03/28/JS/18-表单属性与事件/" class="article-date">
      <time datetime="2017-03-28T01:15:35.000Z" itemprop="datePublished">2017-03-28</time>
</a>

    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a  class="article-title" href="/2017/03/28/JS/18-表单属性与事件/">18-表单属性与事件</a>
    </h1>
  


      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <h1 id="表单属性与事件"><a href="#表单属性与事件" class="headerlink" title="表单属性与事件"></a>表单属性与事件</h1><h2 id="表单的常用属性"><a href="#表单的常用属性" class="headerlink" title="表单的常用属性"></a>表单的常用属性</h2><ul>
<li>内容操作<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="built_in">document</span>.getElementById(<span class="string">'text'</span>); <span class="comment">// 输入框</span></span><br><span class="line"><span class="keyword">var</span> txt = <span class="built_in">document</span>.getElementById(<span class="string">'txt'</span>);   <span class="comment">// 文本域</span></span><br><span class="line"><span class="keyword">var</span> opt = <span class="built_in">document</span>.getElementById(<span class="string">'opt'</span>);   <span class="comment">// 下拉菜单选项</span></span><br><span class="line"><span class="comment">// 1 value 用于操作大部分表单元素的值</span></span><br><span class="line"><span class="built_in">console</span>.log(text.value);		<span class="comment">// 获取内容</span></span><br><span class="line">text.value = <span class="string">'我是设置的新内容'</span>;  <span class="comment">// 设置内容</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 特殊：文本域，可以使用value和innerHTML、innerText ，但是推荐value，比较统一</span></span><br><span class="line"><span class="built_in">console</span>.log(txt.value); </span><br><span class="line">txt.value = <span class="string">'我是新的内容'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(txt.innerHTML);</span><br><span class="line">txt.innerHTML = <span class="string">'我是新的内容'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3 特殊：下拉菜单选项option，只能使用innerHTML、innerText进行内容设置，value不是用于内容设置</span></span><br><span class="line">opt.value = <span class="string">'我是value的内容'</span>;</span><br><span class="line">opt.innerHTML = <span class="string">'而我才是显示的内容'</span>;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="复选框选中属性"><a href="#复选框选中属性" class="headerlink" title="复选框选中属性"></a>复选框选中属性</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> cb = <span class="built_in">document</span>.getElementById(<span class="string">'cb'</span>); <span class="comment">// 复选框</span></span><br><span class="line"><span class="comment">// checked 属性，用于进行复选框选中属性操作</span></span><br><span class="line"><span class="comment">// 设置为布尔类型，true表示选中，false表示取消选中</span></span><br><span class="line">cb.checked = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// 注意：如果设置的值为非布尔值，会进行隐式转换，不常用，了解即可</span></span><br></pre></td></tr></table></figure>
<h2 id="下拉菜单选中属性"><a href="#下拉菜单选中属性" class="headerlink" title="下拉菜单选中属性"></a>下拉菜单选中属性</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> opt = <span class="built_in">document</span>.getElementById(<span class="string">'opt'</span>); <span class="comment">// 下拉菜单选项</span></span><br><span class="line"><span class="comment">// selected 属性，用于进行选中属性操作</span></span><br><span class="line"><span class="comment">// 设置为布尔类型，true表示选中，false表示取消选中</span></span><br><span class="line">opt.selected = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// 注意：如果设置的值为非布尔值，会进行隐式转换，不常用，了解即可</span></span><br></pre></td></tr></table></figure>
<h2 id="禁用属性"><a href="#禁用属性" class="headerlink" title="禁用属性"></a>禁用属性</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ipt = <span class="built_in">document</span>.getElementById(<span class="string">'ipt'</span>); <span class="comment">// 复选框</span></span><br><span class="line"><span class="comment">// disabled 属性，用于进行禁用属性操作</span></span><br><span class="line"><span class="comment">// 设置为布尔类型，true表示禁用，false表示启用</span></span><br><span class="line">ipt.disabled = <span class="literal">true</span>;</span><br><span class="line"><span class="comment">// 注意：如果设置的值为非布尔值，会进行隐式转换，不常用，了解即可</span></span><br></pre></td></tr></table></figure>
<h2 id="输入框常用事件"><a href="#输入框常用事件" class="headerlink" title="输入框常用事件"></a>输入框常用事件</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=<span class="string">"text"</span> id=<span class="string">"ipt"</span> value=<span class="string">"我是输入框的默认内容"</span>&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="keyword">var</span> ipt = <span class="built_in">document</span>.getElementById(<span class="string">'ipt'</span>);</span><br><span class="line">    <span class="comment">// 获取焦点事件 focus</span></span><br><span class="line">    ipt.onfocus = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 检测，如果内容为默认提示词，去除</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.value === <span class="string">'我是输入框的默认内容'</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.value = <span class="string">''</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// 失去焦点事件 blur</span></span><br><span class="line">    ipt.onblur = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 如果为空，还原为默认提示词</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">this</span>.value === <span class="string">''</span>) &#123;</span><br><span class="line">            <span class="keyword">this</span>.value = <span class="string">'我是输入框的默认内容'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&lt;<span class="regexp">/script&gt;</span></span><br></pre></td></tr></table></figure>
      
    </div>
    
    <div class="article-info article-info-index">
      
      

      
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JS/">JS</a></li></ul>
    </div>

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>











  
  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/7/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/9/">Next &raquo;</a>
    </nav>
  

</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2018 Mr.张
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo &nbsp;&nbsp;</a><a href="https://github.com/zhangxx1990" target="_blank">Blog</a> by tommy
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" >极客到访数: 
                            <span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>, </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit">本页阅读量: 
                            <span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>

    </div>
    
<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>

<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 1;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>


<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'xxxxx', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



	<script>
	var _hmt = _hmt || [];
	(function() {
	  var hm = document.createElement("script");
	  hm.src = "//hm.baidu.com/hm.js?xxxxxx";
	  var s = document.getElementsByTagName("script")[0]; 
	  s.parentNode.insertBefore(hm, s);
	})();
	</script>



<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(
            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>